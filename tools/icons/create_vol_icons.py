from PIL import Image, ImageDraw
import os

assets_dir = "content/assets/"
os.makedirs(assets_dir, exist_ok=True)

def create_icon(name, pattern):
    img = Image.new("1", (12, 12), 0) # Black background
    pixels = img.load()
    for y, row in enumerate(pattern):
        for x, char in enumerate(row):
            if char == "1":
                pixels[x, y] = 1 # White
    img.save(os.path.join(assets_dir, name))
    print(f"Saved {name}")

# 12x12 patterns (0=black, 1=white)
# Speaker body is constant
spk_body = [
    "000011000000",
    "000111100000",
    "001111110000",
    "001111110000",
    "001111110000",
    "001111110000",
    "001111110000",
    "001111110000",
    "001111110000",
    "000111100000",
    "000011000000",
    "000000000000",
]

# Waves
wave1 = [
    "000000000000",
    "000000000000",
    "000000000000",
    "000000001000",
    "000000001100",
    "000000001100",
    "000000001000",
    "000000000000",
    "000000000000",
    "000000000000",
    "000000000000",
    "000000000000",
]

wave2 = [
    "000000000000",
    "000000000000",
    "000000000100",
    "000000001010",
    "000000001101",
    "000000001101",
    "000000001010",
    "000000000100",
    "000000000000",
    "000000000000",
    "000000000000",
    "000000000000",
]

wave3 = [
    "000000000010",
    "000000000010",
    "000000000100",
    "000000001010",
    "000000001101",
    "000000001101",
    "000000001010",
    "000000000100",
    "000000000010",
    "000000000010",
    "000000000000",
    "000000000000",
]

mute_x = [
    "000000000000",
    "000000000000",
    "000000000000",
    "000000001010",
    "000000000100",
    "000000000100",
    "000000001010",
    "000000000000",
    "000000000000",
    "000000000000",
    "000000000000",
    "000000000000",
]

# Mic
mic_on = [
    "000011110000",
    "000011110000",
    "000011110000",
    "000011110000",
    "000011110000",
    "000100001000",
    "000100001000",
    "000010010000",
    "000001100000",
    "000001100000",
    "000011110000",
    "000000000000",
]

mic_off = [
    "000011110000",
    "000011110100",
    "000011111000",
    "000011110000",
    "000010110000",
    "000101001000",
    "000100101000",
    "000010010000",
    "000001100000",
    "000001100000",
    "000011110000",
    "000000000000",
]

def combine(p1, p2):
    res = []
    for r1, r2 in zip(p1, p2):
        row = ""
        for c1, c2 in zip(r1, r2):
            val = "1" if c1=="1" or c2=="1" else "0"
            row += val
        res.append(row)
    return res

create_icon("speaker_mute.png", combine(spk_body, mute_x))
create_icon("speaker_low.png", combine(spk_body, wave1))
create_icon("speaker_mid.png", combine(spk_body, wave2))
create_icon("speaker_high.png", combine(spk_body, wave3))
create_icon("mic_on.png", mic_on)
create_icon("mic_off.png", mic_off)
